<html>
  <head>
     <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="main.css">
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet"> 
    <title>Off 2 Comic</title>
  </head>
  
  <body>
  
<div>
  <img src="Assets/blank.JPG" id="target-box">
  <img src="Assets/blank.JPG" id="target-box2">
   <img src="Assets/barrier.bmp" id="barrier">
    </div>
   <div id="target"> 
</div> 
  
  
  
  
 
  
  
  
  
  
  
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  
<script>   
      // pixels per second, change this value to adjust movement speed
  
      /* Map */
      const MOVEMENT_SPEED = 100;
      const target = document.getElementById("target");

      const targetBoxes = [
        "target-box", "target-box2"
      ].map(id => document.getElementById(id));
      
      targetBoxes.forEach(box => box.addEventListener("click", mouseClicked));
      
      let animationRequestId = null;
      function mouseClicked(event) {
        // cancel running animation to run the newer animation
        if (animationRequestId) cancelAnimationFrame(animationRequestId);

        const computedTargetStyle = getComputedStyle(target);
        const startPosition = {
          x: parseFloat(computedTargetStyle.left),
          y: parseFloat(computedTargetStyle.top),
        };

        const destination = {
          x: event.clientX,
          y: event.clientY,
        };

        const distance = Math.sqrt(
          (destination.x - startPosition.x) ** 2 + (destination.y - startPosition.y) ** 2
        );

        const moveDuration = distance / MOVEMENT_SPEED;

        let startTime = document.timeline.currentTime;

        function animation(time) {
          const elapsedTime = (time - startTime) / 1000.0;

          // goes from 0 -> 1.0, once reaches 1.0 means the animation is completed
          const completionRate = Math.min(elapsedTime / moveDuration, 1.0);

          const newPosition = {
            x: startPosition.x + (destination.x - startPosition.x) * completionRate,
            y: startPosition.y + (destination.y - startPosition.y) * completionRate,
          };

          target.style.left = `${newPosition.x}px`;
          target.style.top = `${newPosition.y}px`;

          if (completionRate < 1.0) 
            animationRequestId = requestAnimationFrame(animation);
          else 
            animationRequestId = null;
        }

        animationRequestId = requestAnimationFrame(animation);
      }

</script>  

  </body>

