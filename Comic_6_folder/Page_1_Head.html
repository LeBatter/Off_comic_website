<html lang="en-us">
  <head>
     <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=0.5">
   <link rel="stylesheet" href="../main.css">
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet"> 
    <title>Off 2 Comic</title>
    
  </head>
<body>
 
  <a href="Page_1_interactable.html"><img src="../Assets/back.png" class="go_back" id="testFlash"></a>
  
  

  

<div class="click-zoom picture_centerer"> <!--class="click-zoom"-->
  <label>
     <input type="checkbox">
    <img id="mainImage" src="Assets_Comic_6/Comic6_Page_1_Head.jpg" class="page1">
      <img id="mainImageFlash" class="page1" style="display: none;">
  </label>
</div>

    <!--<button id="testFlash">Test Flash Now</button>-->

    


 <!--
 <script>
  const replacementImages = [
    "./Assets_Comic_6/I_SEE_YOU.jpg"
  ];
  const imageElement = document.getElementById("mainImage");
  const originalSrc = imageElement.src;
  const redirectLink = "Page_1_interactable.html"; // always go here after flash
  const flashChance = 1;
  let hasFlashed = localStorage.getItem("imageFlashed");
  
  // Test Flash button
  document.getElementById("testFlash").addEventListener("click", () => flashImage());

  // Add flash logic to all links
  document.querySelectorAll("a").forEach(a => {
    a.addEventListener("click", (event) => {
      if (!hasFlashed && Math.random() < flashChance) {
        flashImage(event);
      }
      // else, link works normally
    });
  });

  function flashImage(event) {
    localStorage.setItem("imageFlashed", "true");
    hasFlashed = true;
    // Prevent immediate navigation if triggered by a link
    event?.preventDefault();

    // Pick a random replacement image
    const randomIndex = Math.floor(Math.random() * replacementImages.length);
    imageElement.src = replacementImages[randomIndex];
    
    // Show flash for 1 second, then go to redirectLink
    setTimeout(() => {
      imageElement.src = originalSrc; // restore original (optional)
      window.location.href = redirectLink; // navigate immediately
    }, 1000); // flash duration in ms
  }
</script>
-->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const replacementImages = ["./Assets_Comic_6/I_SEE_YOU.jpg"];
  const imageElement = document.getElementById("mainImage");
  const originalSrc = imageElement.src;
  const redirectLink = "Page_1_interactable.html";
  const flashChance = 0.9; // you can change this to e.g., 0.5 for 50% chance

  // Track if flash has happened
  let hasFlashed = localStorage.getItem("imageFlashed") === "true";

  function flashImage(event) {
    // Only flash if it hasnâ€™t already flashed
    if (hasFlashed) return;

    // Random chance check
    if (Math.random() < flashChance) return;

    hasFlashed = true;
    localStorage.setItem("imageFlashed", "true");
    event?.preventDefault();

    // Pick a random replacement image
    const randomIndex = Math.floor(Math.random() * replacementImages.length);
    imageElement.src = replacementImages[randomIndex];

    // Restore original and navigate after 1s
    setTimeout(() => {
      imageElement.src = originalSrc;
      window.location.href = redirectLink;
    }, 1000);
  }

  // Add click event to your back link
  const backLink = document.querySelector("a");
  backLink.addEventListener("click", (e) => flashImage(e));
});
</script>






    

 </body> 
</html> 